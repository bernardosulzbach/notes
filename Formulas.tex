\documentclass[oneside]{book}
\usepackage[utf8]{inputenc}
\usepackage[english]{babel}
\usepackage[fleqn]{amsmath}
\usepackage{listings}
\usepackage{amssymb}
\usepackage{parskip} % turns off the indentation and adds a little bit of
                     % (stretchable) space in between paragraphs.
\usepackage{graphicx}
\usepackage{wrapfig}
\usepackage{hyperref}

\graphicspath{ {images/} }

\DeclareMathOperator\cis{cis} % used for complex numbers
% most of the time, \newcommand* is the best choice as you want the
% error-checking that it provides.
\newcommand*\conj[1]{\bar{#1}}
\newcommand*\mean[1]{\bar{#1}}
\newcommand*\reciprocal[1]{\frac{1}{#1}}
\newcommand*\argument{\phi}

% number sets
\newcommand*\primes{\mathbb{P}}
\newcommand*\naturalnumbers{\mathbb{N}}
\newcommand*\wholenumbers{\mathbb{W}}
\newcommand*\integers{\mathbb{Z}}
\newcommand*\rationalnumbers{\mathbb{Q}}
\newcommand*\irrationalnumbers{\mathbb{I}}
\newcommand*\reals{\mathbb{R}}
\newcommand*\complexnumbers{\mathbb{C}}

\title{Formulas}
\author{Bernardo Sulzbach}
\date{October 2015}

\begin{document}

\maketitle

\tableofcontents

\part{Introduction}
This document is a collection of notes and formulas from various subjects I
need to remember. It is mainly for reference purposes.

\part{Chemistry}

\chapter{Gases}

Ideal gas law
\[PV = nRT\]

Diffusion. Diffusion is the rate at which two gases mix.
Effusion. Effusion is the rate at which a gas escapes through a pin hole.

Graham's law of diffusion or effusion

Graham's law states that the rate of effusion or of diffusion of a gas is
inversely proportional to the square root of its molecular weight.

\[\frac{R_1}{R_2} = \sqrt{\frac{M_2}{M_1}}\]

In the same conditions of temperature and pressure, the molar mass is
proportional to the mass density. Therefore the rate of diffusion of different
gases is inversely proportional to the square root of their mass densities.

\[\frac{R_1}{R_2} = \sqrt{\frac{M_2}{M_1}}\]

\chapter{Solutions}

Solution. A solution is a homogeneous mixture of two or more substances.

Solute is a substance that is dissolved in the solution.

Solvent is the substance that dissolves the solute. Solvent is present in
greater amount.

Concentration is the ratio of solute and solvent.

Concentration can be measured using molarity, molality and mole fraction.

\[\text{Molarity (M)} = \frac{\text{moles of solute}}{\text{liters of
solution}}\]

\[\text{Molality (m)} = \frac{\text{moles of solute}}{\text{kg of solution}}\]

Mole fraction. The mole fraction of a component in solution is the number of
moles of that component divided by the total number of moles of all components
in the solution.

\[X_A = \frac{n_A}{\sum{n_x}}\]

Dilution. Diluting a solution means adding more solvent without adding more
solute.
The following formula is quite helpful in these calculations.

\[M_i V_i = M_f V_f\]

Mole. Mole is the amount of substance that contains same number of particles as
there are atoms in 12 grams of pure carbon-12.

One mole of substance is Avogadro's number.

The number of molecules in a mole is known as Avogadro's constant.

\[N_A = 6.023 \cdot 10^{23}\]

One mole of gas has a volume of 22.4 liters at Standard Temperature and
Pressure.

Relation between moles and grams.
One mole of a substance weights the molecular weight of substance in grams.

\chapter{Atomic Properties}

Ionization energy. Ionization energy is qualitatively defined as the amount of
energy required to remove the most loosely bound electron of an isolated
gaseous atom to form a cation. It is always endothermic (positive).

\chapter{Acids and Bases}

The Henderson-Hasselbalch equation describes the derivation of pH as a
measure of acidity (using pKa, the negative log of the acid dissociation
constant).

\[pH = pK_a + \log_{10} \frac{[\text{A}^-]}{[\text{HA}]}\]
\[pOH = pK_b + \log_{10} \frac{[\text{BH}^+]}{[\text{B}]}\]

where [A-] is the concentration of conjugate base and [HA] is the concentration
of the acid.

\chapter{Kinetics}

One of the most important topics of chemical kinetics is the \textbf{rate law}.
The rate law is an expression relating the rate of a reaction to the
concentrations of the chemical species present, which may include reactants,
products, and catalysts. Many reactions follow a simple rate law, which takes
the form
\[v = k [A]^\alpha [B]^\beta \ldots\]
For reactions with multiple steps, the rate law, rate constant, and order are
determined by experiment, and the orders are \textbf{not} generally the same as
the stoichiometric coefficients in the reaction equation.  A final important
point about rate laws is that overall rate laws for a reaction may contain
reactant, product and catalyst concentrations, but must not contain
concentrations of intermediates.

\paragraph{Law of Mass Action.} The law of mass action is a general description
of the equilibrium condition; it defines the \textit{equilibrium constant
expression}.
\[K_C = \frac{[C]^\gamma [D]^\delta}{[A]^\alpha [B]^\beta}\]

\paragraph{Notes on the equilibrium expression.} The equilibrium expression for
a reaction is the reciprocal of that for the reaction written in reverse. When
the equation for a reaction is multiplied by n, \(K\) is raised to n.  The
units for \(K\) depend on the reaction being considered, but it is
\textbf{customarily written without units}.

\paragraph{Equilibrium in terms of pressure.} The equilibrium expression for a
reaction can be written in terms of partial pressures.
\[K_P = \frac{\left(P_C\right)^\gamma
\left(P_D\right)^\delta}{\left(P_A\right)^\alpha \left(P_B\right)^\beta}\]
\[K_P = K_C (RT)^{\Delta n}\]
where

n is the difference between the number of moles of gases in the products and in
the reactants.

\paragraph{Heterogeneous Equilibrium.} The equilibrium constant does not depend
on the amounts of pure solid
or liquids present. Just gases and aqueous solutions are taken into account.

\paragraph{The Reaction Quotient (Q).} In general, all reacting chemical
systems are characterized by their Reaction Quotient, Q. It has the same
formula as K, but can be used even when the system is not at equilibrium.

\paragraph{Le Chatelier's Principle.} \textit{If a system at equilibrium is
disturbed, the system tends to shift its equilibrium position to counter the
effect of the disturbance.}

\chapter{Organic Chemistry}
Organic chemistry is dominated by the functional group approach, where organic
molecules are constructed from an inert hydrocarbon skeleton onto which
functional groups are attached.

The properties and reaction chemistry of a particular functional group are
highly independent of environment. Therefore, it is only necessary to know about
the chemistry of a few functions in order to predict the chemical behavior of
thousands of real organic chemicals.

\section{Alcohols}
\subsection{Primary alcohol}
Primary alcohols have an -OH function attached to an R-CH2- group.

Primary alcohols can be oxidised to aldehydes and on to carboxylic acids.

Primary alcohols can be shown as \texttt{RCH2OH}

\subsection{Secondary alcohol}
Secondary alcohols have an -OH function attached to a R2CH- group.

Secondary alcohols can be oxidised to ketones.

Secondary alcohols can be shown as \texttt{R2CHOH}

\subsection{Tertiary alcohol}
Tertiary alcohols have an -OH function attached to a R3C- group.

Tertiary alcohols are resistant to oxidation with acidified potassium dichromate(VI), K.

Tertiary alcohols can be shown as \texttt{R3COH}

\part{Physics}

\chapter{Kinetics}
\[S = S_0 + V_0 t + \frac{a t^2}{2}\]
\[V_f^2 = V_i^2 + 2 a \Delta S\]

\chapter{Waves}
\[v = \lambda f\]

\section{Doppler Effect}
\[f = f_0 \left ( \frac{v + v_r}{v + v_s} \right )\]

where

\(v\) is the velocity of waves in the medium;

\(v_r\) is the velocity of the receiver relative to the medium; positive if the
receiver is moving towards the source (and negative in the other direction);

\(v_s\) is the velocity of the source relative to the medium; positive if the
source is moving away from the receiver (and negative in the other direction).

One can remember that the velocities are positive if the receiver is chasing
the source.

\chapter{Gases}
\[P = P_A + \rho g h\]
\[\tau = P \Delta V\]

\chapter{Electricity}
\[U = R i\]
\[P = i U\]
Resistance of a parallel association of resistors:
\[\reciprocal{R_{eq}} = \sum{\reciprocal{R_i}}\]

\section{Electric Force}
\[F_{el} = \frac{k Q q}{r^2}\]
\chapter{Electromagnetism}

\section{Magnetic Force}
\[F_{mag} = B q v = B i l\]

\section{Magnetic Fields}
\[B_{\text{wire}} = \frac{i \mu_0}{2 \pi r}\]
\[B_{\text{current loop}} = \frac{i \mu_0}{2 r}\]

\chapter{Modern Physics}
\[E = hf = h\frac{c}{\lambda}\]

\section{Lorentz factor}
The Lorentz factor is the factor by which time, length, and relativistic mass
change for an object while that object is moving.
\[\gamma = \reciprocal{\sqrt{1 - \frac{v^2}{c^2}}}\]

\section{Superposition}
Superposition is a principle of quantum theory that describes a challenging
concept about the nature and behavior of matter and forces at the sub-atomic
level. The principle of superposition claims that while we do not know what the
state of any object is, it is actually in all possible states simultaneously,
as long as we don't look to check. It is the measurement itself that causes the
object to be limited to a single possibility. It can also be said that there is
no single outcome unless it is observed.

Superposition is well illustrated by \textbf{Thomas Young's double-slit
experiment}, developed in the early nineteenth century to prove that light
consisted of waves. Richard Feynman claimed that the essentials of quantum
mechanics could be grasped by an exploration of the implications of Young's
experiment.

In this experiment, a beam of light is aimed at a barrier with two vertical
slits.  The light passes through the slits and the resulting pattern is
recorded.  If one slit is covered, the pattern is what would be expected: a
single line of light, aligned with whichever slit is open. Intuitively, one
would expect that if both slits are open, the pattern of light will reflect
that fact: two lines of light, aligned with the slits.  However, what happens
is that the plate is entirely separated into multiple lines of lightness and
darkness in varying degrees.  What is being illustrated by this result is that
interference is taking place between the waves/particles going through the
slits, in what, seemingly, should be two non-crossing trajectories.

We would expect that if the beam of light particles or photons is slowed enough
to ensure that individual photons are hitting the plate, there could be no
interference and the pattern of light would be two lines of light, aligned with
the slits. In fact, however, the resulting pattern still indicates
interference, which means that, somehow, the single particles are interfering
with themselves. This seems impossible: we expect that a single photon will go
through one slit or the other, and will end up in one of two possible light
line areas. But that is not what happens. As Feynman concluded, each photon not
only goes through both slits, but simultaneously takes every possible
trajectory en route to the target.

In order to see how this might possibly occur, experiments have focused on
tracking the paths of individual photons. What happens in this case is that the
measurement in some way disrupts the photons' trajectories (in accordance with
the uncertainty principle), and somehow, the results of the experiment become
what would be predicted by classical physics: two bright lines on the
photographic plate, aligned with the slits in the barrier. Cease the attempt to
measure, however, and the pattern will again become multiple lines in varying
degrees of lightness and darkness. Each photon moves simultaneously in a
superposition of possible trajectories, and, furthermore, measurement of the
trajectory causes the superposition of states to collapse to a single position.

Text extracted from
\href{http://whatis.techtarget.com/definition/superposition}{WhatIs}.

\part{Mathematics}

\chapter{Series}

\section{Arithmetic Series}
An arithmetic series is the sum of a sequence in which each term is computed
from the previous one by adding (or subtracting) a constant.
\[a_n = a_1 + (n-1)r\]
\[S_{p..q} = \frac{(q - p + 1)(a_q + a_p)}{2}\]
Note that this expression is just the product of the number of terms by the
average value.

\section{Geometric Series}
\[a_n = a_1 q^{(n-1)}\]
\[S_n = a_1 \frac{q^n - 1}{q-1}\]

\chapter{Complex numbers}

\section{Notation}
\[\cis \left ( \argument \right ) =  \cos \left ( \argument \right ) + i \sin
\left ( \argument \right )\]

\section{Formulas}
\[a + bi = r \left( \cos \left ( \argument \right ) + i \sin \left ( \argument
\right ) \right )
= r \cis \left ( \argument \right )\]
\[\conj{z} = a - bi = r \cis \left (- \argument \right)\]
\[r = \sqrt{a^2 + b^2}\]
\[\phi = \tan^{-1} \left ( \frac{b}{a} \right)\]

\[z_1 z_2 = r_1 r_2 \left ( \cis \left ( \phi_1 + \phi_2 \right ) \right )\]
\[\frac{z_1}{z_2} = \frac{r_1}{r_2} \left ( \cis \left ( \phi_1 - \phi_2 \right
) \right )\]
\[z^n = r^n \cis \left ( n \argument \right )\]
\[z^{\reciprocal{n}} = r^{\reciprocal{n}} \cis \left ( \frac{\argument + 2 \pi
k}{n} \right ), \quad
k : k \in \integers \text{ and } 0 \le k \le n - 1\]

Euler's Formula
\[e^{ix} = \cis \left ( x \right)\]

\chapter{Logarithms}

\paragraph{Logarithm.} The logarithm is the inverse operation to exponentiation.
The natural logarithm of \(t\) equals the integral of \(x^{-1}\) in respect to x
from \(1\) to \(t\).

\section{Definition}

\[y = \log_a x \iff a^y = x, \quad a > 0, a \ne 0\]
\[\log_a 0 = \begin{cases} -\infty, \quad a > 1 \\ +\infty, \quad a < 1
\end{cases}\]
\[\log x y = \log x + \log y\]
\[\log \frac{x}{y} = \log x - \log y\]
\[\log x^n = n \log x\]
\[\log_a b = \frac{\log_c b}{\log_c a} = \left ( \log_a c \right ) \left (
\log_c b \right )\]
\[\log a_b = \reciprocal{\log_b a}\]
\[e=\lim_{k\to\infty} \left ( 1 + \reciprocal{k} \right ) ^ k\]

\chapter{Statistics}

\section{Linear Relationship}
A linear relationship between \(y\) and \(x\) is denoted by:
\[\mu_{y | x} = \beta_0 + \beta_1 x + \epsilon\]
where
\begin{itemize}
  \item[\(\mu_{y | x}\)] is the true mean of y for a given value of x
  \item[\(\beta_0 + \beta_1 x\)] is a line
  \item[\(\epsilon\)] is a random error
\end{itemize}

The estimated relation line:
\[\hat y = \hat {\beta_0} + \hat {\beta_1} x\]

\section{Pythagorean means}
The three classical Pythagorean means are the arithmetic mean (A), the
geometric mean (G), and the harmonic mean (H). They are defined by:
\[A = \frac{\sum{x}}{n}\]
\[G = \left( \prod{x} \right) ^ \reciprocal{n}\]
\[H = \frac{n}{\sum{\reciprocal{x}}}\]

If all \(x\) are positive, the following relation holds
\[min \le H \le G \le A \le max\]

\section{Measures of statistical dispersion}
Variance
\[\sigma^2 = \sum \frac{\left ( k-\mean{x} \right ) ^ 2}{n}\]
Standard Deviation
\[\sigma = \sqrt{\sum \frac{\left ( k-\mean{x} \right ) ^ 2}{n}}\]

\chapter{Geometry}

\section{Trigonometry}

For a right triangle with sides a and b, hypotenuse c
\[\sin{\alpha} = \frac{a}{c}\]
\[\cos{\alpha} = \frac{b}{c}\]
\[\tan{\alpha} = \frac{a}{b}\]
\[\csc{\alpha} = \reciprocal{\sin{\alpha}} = \frac{c}{a}\]
\[\sec{\alpha} = \reciprocal{\cos{\alpha}} = \frac{c}{b}\]
\[\cot{\alpha} = \reciprocal{\tan{\alpha}} = \frac{b}{a}\]


\section{Right Triangle}
For a right triangle with sides a and b, hypotenuse c, projections m and n (of
a and b, respectively), and height h,
the following expressions are true

\[a^2 = m c\]
\[b^2 = n c\]
\[h^2 = m n\]
\[a b = c h\]

\section{Equilateral Triangle}
\[h = \frac{a \sqrt{3}}{2}\]
\[r = \frac{a \sqrt{3}}{6}\]
\[R = \frac{a \sqrt{3}}{3}\]
\[A = \frac{a^2 \sqrt{3}}{4}\]

\section{All Triangles}
\[A = a b \sin \gamma \]
\[A = p r\]
\[A = \sqrt{p \left ( p - a \right ) \left ( p - b \right ) \left ( p - c
\right )}\]
\[a^2 = b^2 + c^2 - 2 b c \cos \alpha\]
\[\frac{a}{\sin \alpha} = \frac{b}{\sin \beta} = \frac{c}{\sin \gamma} = 2R\]

where

\begin{itemize}
  \item[\(p\)] is the semiperimeter;
  \item[\(r\)] is the inradius (the radius of the inscribed circle);
  \item[\(R\)] is the circumradius (the radius of the circumscribed circle).
\end{itemize}

\paragraph{Median.} In geometry, a median of a triangle is a line segment
joining a vertex to the midpoint of the opposing side. Every triangle has
exactly three medians, one from each vertex. In the case of isosceles and
equilateral triangles, a median bisects any angle at a vertex whose two adjacent
sides are equal in length.

\paragraph{Relation to center of mass.} Each median of a triangle passes through
the triangle's centroid, which is the center of mass of an object of uniform
density in the shape of the triangle. Thus the object would balance on the
intersection point of the medians.

\paragraph{Each median divides the area of the triangle in half.}

\section{Quadrilateral}
\[A = \frac{d_1 d_2 \sin{\phi}}{2}\]

where

\begin{itemize}
  \item[\(d\)] is a diagonal;
  \item[\(\phi\)] is the angle between the diagonals.
\end{itemize}

\section{Regular Hexagon}

\[r = m = \frac{l \sqrt{3}}{2}\]
\[A = pr = 3 l r = \frac{3 l^2 \sqrt{3}}{2}\]

\section{Circle}
\paragraph{Intersecting Chord Theorem.} When two chords intersect each
other inside a circle, the products of their segments are equal.
\[a_1 a_2 = b_1 b_2\]

\section{Pyramids}
\[V = \frac{bh}{3}\]

\chapter{Equations}
\section{Discriminant}
\[\Delta = b^2 - 4ac\]

\section{Vieta's formulas}
A polynomial \(P(x) = a_n x^n + a_{n-1} x^{n-1} + ... + a_0\), (with the
coefficients being real or complex numbers and \(a_n \neq 0\)) is known by the
fundamental theorem of algebra to have \(n\) (not necessarily distinct) complex
roots \(x_1, x_2, ..., x_n\).

Vieta's formulas relate the polynomial's coefficients \(a_k\) to signed sums
and products of its roots \(x_i\) as follows:

\[\sum_{1 \le i \le n} x_i = - \frac{a_{n-1}}{a_n}\]
\[\sum_{1 \le i_1 < i_2 \le n} x_{i_1} x_{i_2} = \frac{a_{n-2}}{a_n}\]
\[\sum_{1 \le i_1 < i_2 < i_3 \le n} x_{i_1} x_{i_2} x_{i_3} = -
\frac{a_{n-3}}{a_n}\]
\[\sum_{1 \le i_1 < i_2 < ... < i_k \le n} x_{i_1} x_{i_2} ... x_{i_k} = (-1)^k
\frac{a_{n-k}}{a_n}\]

\part{Computer Science}
\chapter{Algorithms}
\section{String matching}
\subsection{Rabin-Karp (1987)}
This algorithm speeds up equality testing by using a hash function.

If the hash of the substring from the text was recomputed at each iteration,
this would become an O(mn)-time algorithm, this problem is solved by reusing
the last computed hash in the evaluation of the new hash. Such a hash function
is called a \textbf{rolling hash}.

\textbf{Rabin Fingerprint}. This hash treats every substring as a number in a
base \(\alpha\), usually a large prime.

\begin{lstlisting}
  // A Rabin Fingerprint roll.
  hash -= first_char * a ^ (m - 1)
  hash *= a
  hash += new_last_char
\end{lstlisting}

This algorithm is slower than Knuth-Morris-Pratt and Boyer-Moore for single
pattern string searching because of its slow worst case behavior. However, it is
an algorithm of choice for multiple pattern search.

For instance, to find if any string of a large number of strings is in a text we
can create a variant of the Rabin-Karp algorithm that uses a set data structure
to check whether the hash of a substring belongs to a set of hash values of
patterns in constant time.

\chapter{Hardware}
\section{Hard Disks}
Any hard disk drive (HDD) can contain only four primary partitions. This
limitation may be circumvented with an extended partition, a special type of
primary partition that allows multiple logical partitions to be created within
it. An HDD may contain only one extended partition.

An HDD records data by magnetizing a thin film of ferromagnetic material on a
disk. Sequential changes in the direction of magnetization represent binary
data bits.

A typical HDD design consists of a spindle that holds flat circular disks, also
called platters, which hold the recorded data. The platters are made from a
non-magnetic material, usually aluminium alloy, glass, or ceramic, and are
coated with a shallow layer of magnetic material typically 10–20 nm in depth,
with an outer layer of carbon for protection.

The platters in contemporary HDDs are spun at speeds varying from 4,200 rpm in
energy-efficient portable devices, to 15,000 rpm for high-performance servers.
The first HDDs spun at 1,200 rpm and, for many years, 3,600 rpm was the norm.
Nowadays, the platters in most consumer-grade HDDs spin at either 5,400 rpm or
7,200 rpm.

Information is written to and read from a platter as it rotates past devices
called read-and-write heads that operate very close (often tens of nanometers)
over the magnetic surface. The read-and-write head is used to detect and modify
the magnetization of the material immediately under it.

\paragraph{Partial response maximum likelihood.} In computer data storage,
partial response maximum likelihood (PRML) is a method for converting the weak
analog signal from the head of a magnetic disk or tape drive into a digital
signal. PRML attempts to interpret correctly even small changes in the analog
signal, whereas peak detection relies on fixed thresholds. Because PRML can
correctly decode a weaker signal it \textbf{allows higher density recording}.

For example, PRML would read the magnetic flux density pattern 70, 60, 55, 60,
70 (where 60 is the baseline signal) as binary "101", and the same for 45, 40,
30, 40, 45 (baseline of 40) whereas peak detector would decode everything
above, say, 50 as high, and below 50 as low, so the first pattern would read
"111" and the second as "000".

\chapter{Database theory}
Relational databases arose in the 80's. NoSQL databases are much more recent.

Transactions are all about atomic updates that either succeed or fail.

\textbf{The CAP theorem.} If a system has a network partition, it cannot be
fully \textbf{consistent} and fully \textbf{available}. In real-world scenarios,
usually the tradeoff is between consistency and response-time.

\section{Distributed systems}
Distributed systems may use sharding, in which only one copy of each aggregate
exists, or replication, on which multiples copied of the data are distributed.
\textbf{Replication improves availability and resilience}.

\section{Sample problems}
Two different users, interacting with two different servers that talk to the
same database retrieve data, edit it, and then write it back. If no precautions
are taken, this causes a write-write conflict (one update will overwrite the
other).

Solution A. Hold a transaction open until the update is complete. This makes it
impossible for two users to view the data at the same time. \textit{This is
impractical in most systems}.

Solution B. Make the final update a transaction so that the updates don't mix
together and use an \textbf{offline lock}. This is done by giving each record a
version stamp, if at the time of the update the version stamp has already been
updated (due to a database modification), you solve the conflict anyway you
want.

\section{NoSQL}
The problem with relational databases was that a single logical structure in the
application ends up being split into several rows and tables. This is known as
\textbf{impedance mismatch}: the difficulties encountered when trying to map
an object into a table.

This led to \textbf{object databases}. They did not become popular because many
systems used relational databases for integration. This way, relational has
dominated into the 2000s. The change that happened to bring attention no NoSQL
was the popularization of the Internet. Some sites got a lot of traffic and
needed to scale. Using many simple computers, as Google and Facebook do is not
relational database friendly, as these databases are not easily distributed.

NoSQL (the term) was a hashtag someone came up with for a meetup Johan
Oskarsson proposed to discuss the problems with relational databases. Defining
NoSQL is almost impossible, but it is possible to list some common
characteristics of NoSQL databases:
\begin{itemize}
 \item They are non-relational.
 \item Most are cluster-friendly.
 \item Most are open source.
 \item They are related to 21st century web.
 \item They are schema-less.
\end{itemize}

There are four different data models NoSQL databases use.
The simplest one is \textbf{key-value}. It's like a persistent hashmap that can
store any kind of data.

There is also the \textbf{document model}. It is similar to JSON. Differently
from a key-value, this is much more transparent about what the data is.

Having no schema adds a lot of flexibility. But note that schema-less is not
accurate as most if not all documents have an \textit{implicit schema}. For
instance, all items may have \texttt{price} even if it is not required.

Most key-value databases allow you to store metadata about the values, what
makes them somewhat similar to document databases.

Document databases usually provide access by ID, what further blurries the line
between key-value and document databases.

There is also the \textbf{column family model}, which is slightly more complex.
In these databases, a row key maps to a set of column families.

These three types of NoSQL databases are also known as \textbf{aggregate
models}. They are better at clustering because each node gets a set of
aggregates that contain all the data a query needs and thus avoid the need of
building the result from small pieces obtained from different nodes.

If you need to slice data in several different ways, aggregate databases are not
a good idea.

The fourth and last type of NoSQL database is \textbf{graph databases}. These go
in the opposite direction of the other three, making the structure even less
rigid than a table. All four are schema-less and which one you use depends on
how do you work with your data.

If you use aggregates all the time, aggregate oriented databases are your best
bet. If you need to really break things up and jump around in a complex
structure, graph databases are the way to go. But in the end what works best for
you may be the good and old tabular structure provided by relational databases.

NoSQL databases ease development when there are natural aggregates and when
there is just too much data for a single server.
Aggregate-oriented databases are ACID within aggregates, concurrency issues show
up when a single transaction must change multiple documents.

\chapter{Functional Programming}
In functional programming, functions are treated as data.

\end{document}
